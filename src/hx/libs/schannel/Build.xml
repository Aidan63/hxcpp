<xml>

  <pragma once='true' />

  <files id='schannel'>
    <depend name="${this_dir}/Build.xml" dateOnly="true"/>
    
    <cache value='true' asLibrary='true'/>

    <compilerflag value='-DWIN32_LEAN_AND_MEAN'/>
    <compilerflag value='/std:c++17'/>

    <file name='${this_dir}/SChannelSession.cpp'/>
  </files>

  <files id='haxe'>
    <compilerflag value='/std:c++17'/>
  </files>

  <target id='haxe'>
    <files id='schannel'/>

    <section unless='static_link'>
      <section if='windows'>
        <lib name='Secur32.lib'/>
        <lib name='shlwapi.lib'/>
      </section>
    </section>
  </target>

</xml>