<xml>
    <set name="HXCPP_CPP11" value="1"/>

    <include name="toolchain/gcc-toolchain.xml"/>

    <target id="haxe">
        <lib name="-lpthread"/>
        <lib name="-lvita2d"/>
        <lib name="-lSceCtrl_stub"/>
        <lib name="-lSceDisplay_stub"/>
        <lib name="-lSceGxm_stub"/>
        <lib name="-lSceSysmodule_stub"/>
        <lib name="-lScePgf_stub"/>
        <lib name="-lScePvf_stub"/>
        <lib name="-lSceCommonDialog_stub"/>
        <lib name="-lfreetype"/>
        <lib name="-lpng"/>
    </target>

    <compiler id="psvita" exe="arm-vita-eabi-g++">
        <flag value="-c"/>
        <flag value="-fvisibility=hidden"/>
        <cppflag value="-frtti"/>
        <cppflag value="-std=c++11"/>
        <flag value="-g" if="debug"/>
        <flag value="-O2" unless="debug"/>
        <flag value="-Wno-overflow" />
        <cppflag value="-Wno-invalid-offsetof" />
        <flag value="-DHX_PSVITA"/>
        <flag value="-DHXCPP_MULTI_THREADED" if="HXCPP_MULTI_THREADED"/>
        <include name="toolchain/common-defines.xml" />
        <flag value="-I${HXCPP}/include"/>
        <objdir value="obj/psvita${OBJEXT}/"/>
        <outflag value="-o"/>
        <ext value=".o"/>
    </compiler>

    <linker id="exe" exe="arm-vita-eabi-g++">
        <fromfile value="" if="GCC_OLD" />
        <flag value="-debug" if="debug"/>
        <flag value="-Wl,-q"/>
        <ext value=".elf"/>
        <outflag value="-o "/>
    </linker>
</xml>